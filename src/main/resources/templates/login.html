<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>Login</title>
</head>
<script th:src="@{/jquery-1.8.3.min.js}"></script>
<body>
    <p>账号：<input type="text" name="username" id="username"/></p>
    <p>密码：<input type="password" name="password" id="password"/></p>
    <p><input type="button" value="登录" onclick="requestJson()"/></p>
</body>
<script>
    function requestJson() {
        var username = $("#username").val();
        alert(username);
        var password = $("#password").val();
        $.ajax({
            type: "post",
            url: "/yh/Sign",
            data: {
                "username": username, "password":password
            },
            success: function (data) {
                var state = data.StateMsg;
                alert(state);
                if(state == 0){
                    window.location.href="http://localhost:8080/yh/userInfo";
                }else if(state == 1){
                    alert("账户不存在或密码错误");
                }
            }
        });
    }
</script>
</html>